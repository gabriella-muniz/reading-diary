import{_ as h,o as d,c as r,a as o,t as c,w as b,v as g,b as k,d as p,F as x,r as v,e as _}from"./index-AHy7cshP.js";const w={props:{isOpen:{type:Boolean,required:!0},book:{type:Object,default:()=>({})},editingIndex:{type:Number,default:null}},data(){return{bookName:"",bookReview:"",bookRating:"",bookImage:null}},watch:{isOpen(t){t&&(this.editingIndex===null?(this.bookName="",this.bookReview="",this.bookRating="",this.bookImage=null):(this.bookName=this.book.name||"",this.bookReview=this.book.review||"",this.bookRating=this.book.rating||"",this.bookImage=this.book.image||null))}},methods:{handleFileUpload(t){const e=t.target.files[0];if(e){const n=new FileReader;n.onload=u=>{this.bookImage=u.target.result},n.readAsDataURL(e)}},submit(){this.$emit("submit",{name:this.bookName,review:this.bookReview,rating:this.bookRating,image:this.bookImage},this.editingIndex),this.closeModal()},closeModal(){this.$emit("close")}}},y={key:0,class:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50"},B={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md"},I={class:"text-2xl font-bold mb-4"},M={class:"flex flex-col space-y-4"},N=o("label",{for:"bookName",class:"block text-sm font-medium text-gray-700"},"Nome do Livro:",-1),R=o("label",{for:"bookReview",class:"block text-sm font-medium text-gray-700"},"O que você achou do livro:",-1),L=o("label",{for:"bookRating",class:"block text-sm font-medium text-gray-700"},"Nota (1 a 5):",-1),S=o("label",{for:"bookImage",class:"block text-sm font-medium text-gray-700"},"Capa do Livro:",-1),C={class:"flex justify-end space-x-2 mt-4"};function O(t,e,n,u,l,s){return n.isOpen?(d(),r("div",y,[o("div",B,[o("h2",I,c(n.editingIndex!==null?"Editar Livro":"Adicionar Livro"),1),o("div",M,[o("div",null,[N,b(o("input",{id:"bookName","onUpdate:modelValue":e[0]||(e[0]=i=>l.bookName=i),type:"text",placeholder:"Nome do livro",class:"border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-1 w-full"},null,512),[[g,l.bookName]])]),o("div",null,[R,b(o("input",{id:"bookReview","onUpdate:modelValue":e[1]||(e[1]=i=>l.bookReview=i),type:"text",placeholder:"O que você achou do livro",class:"border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-1 w-full"},null,512),[[g,l.bookReview]])]),o("div",null,[L,b(o("input",{id:"bookRating","onUpdate:modelValue":e[2]||(e[2]=i=>l.bookRating=i),type:"number",min:"1",max:"5",placeholder:"Nota (1 a 5)",class:"border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-1 w-full"},null,512),[[g,l.bookRating]])]),o("div",null,[S,o("input",{id:"bookImage",type:"file",onChange:e[3]||(e[3]=(...i)=>s.handleFileUpload&&s.handleFileUpload(...i)),class:"border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-1 w-full"},null,32)]),o("div",C,[o("button",{onClick:e[4]||(e[4]=(...i)=>s.submit&&s.submit(...i)),class:"bg-blue-500 text-white px-4 py-2 rounded-md shadow-md hover:bg-blue-600 transition-colors"},c(n.editingIndex!==null?"Salvar Alterações":"Adicionar Livro"),1),o("button",{onClick:e[5]||(e[5]=(...i)=>s.closeModal&&s.closeModal(...i)),class:"bg-red-500 text-white px-4 py-2 rounded-md shadow-md hover:bg-red-600 transition-colors"}," Cancelar ")])])])])):k("",!0)}const F=h(w,[["render",O]]),U={components:{BookModal:F},data(){return{books:[],isModalOpen:!1,currentBook:{},editingIndex:null}},created(){this.loadBooksFromLocalStorage()},methods:{openModal(){this.isModalOpen=!0,this.currentBook={},this.editingIndex=null},closeModal(){this.isModalOpen=!1},addBook(t){this.books.push(t),this.saveBooksToLocalStorage()},editBook(t){this.editingIndex=t,this.currentBook={...this.books[t]},this.isModalOpen=!0},handleBookSubmit(t,e){e!==null?this.books.splice(e,1,t):this.addBook(t),this.saveBooksToLocalStorage(),this.closeModal()},removeBook(t){this.books.splice(t,1),this.saveBooksToLocalStorage()},saveBooksToLocalStorage(){localStorage.setItem("books",JSON.stringify(this.books))},loadBooksFromLocalStorage(){const t=localStorage.getItem("books");t&&(this.books=JSON.parse(t))}}},V={class:"min-h-screen bg-gray-100 flex flex-col items-center py-20 px-4"},j={class:"w-full max-w-md mb-2 flex justify-center"},A={class:"py-16 px-8"},T={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},E=["src"],q={class:"flex-1 text-left"},D={class:"text-2xl font-semibold mb-2 text-black"},J={class:"text-gray-600 mb-2 break-words"},z={class:"text-gray-500 font-medium"},G={class:"mt-4 flex space-x-2"},H=["onClick"],K=["onClick"];function P(t,e,n,u,l,s){const i=p("BookModal");return d(),r("div",V,[o("div",j,[o("button",{onClick:e[0]||(e[0]=(...a)=>s.openModal&&s.openModal(...a)),class:"bg-gradient-to-r from-teal-600 to-blue-500 text-white px-4 py-2 rounded-md shadow-md hover:from-teal-500 hover:to-blue-300 transition-colors"}," Adicionar Livro ")]),o("section",A,[o("div",T,[(d(!0),r(x,null,v(l.books,(a,m)=>(d(),r("div",{key:m,class:"bg-white p-6 shadow-md rounded-md flex flex-col"},[a.image?(d(),r("img",{key:0,src:a.image,alt:"Capa do Livro",class:"w-full h-64 object-cover rounded-md mb-4"},null,8,E)):k("",!0),o("div",q,[o("h3",D,c(a.name),1),o("p",J,c(a.review),1),o("p",z,"Nota: "+c(a.rating)+"/5",1)]),o("div",G,[o("button",{onClick:f=>s.editBook(m),class:"text-blue-500 hover:text-blue-700 transition-colors"}," Editar ",8,H),o("button",{onClick:f=>s.removeBook(m),class:"text-red-500 hover:text-red-700 transition-colors"}," Excluir ",8,K)])]))),128))])]),o("section",null,[_(i,{isOpen:l.isModalOpen,book:l.currentBook,editingIndex:l.editingIndex,onSubmit:s.handleBookSubmit,onClose:s.closeModal},null,8,["isOpen","book","editingIndex","onSubmit","onClose"])])])}const W=h(U,[["render",P]]);export{W as default};
