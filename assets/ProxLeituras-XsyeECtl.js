import{_ as h,o as r,c,a as e,t as m,h as g,v as x,g as f,F as k,f as p,b as _,r as v}from"./index-D6fITo5V.js";const B={props:{isOpen:{type:Boolean,required:!0},book:{type:Object,default:()=>({})},editingIndex:{type:Number,default:null}},data(){return{bookName:"",bookImage:null}},watch:{isOpen(o){o&&this.resetFields()}},methods:{resetFields(){this.editingIndex===null?(this.bookName="",this.bookImage=null):(this.bookName=this.book.name||"",this.bookImage=this.book.image||null)},async handleFileUpload(o){const t=o.target.files[0];t&&(this.bookImage=await this.readFileAsDataURL(t))},readFileAsDataURL(o){return new Promise((t,i)=>{const n=new FileReader;n.onload=l=>t(l.target.result),n.onerror=i,n.readAsDataURL(o)})},submit(){this.$emit("submit",{name:this.bookName,image:this.bookImage},this.editingIndex),this.closeModal()},closeModal(){this.$emit("close")}}},y={key:0,class:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50"},w={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md"},I={class:"text-2xl font-bold mb-4"},L={class:"flex flex-col space-y-4"},M=e("label",{for:"bookName",class:"block text-sm font-medium text-gray-700"},"Nome do Livro:",-1),S=e("label",{for:"bookImage",class:"block text-sm font-medium text-gray-700"},"Capa do Livro:",-1),C={class:"flex justify-end space-x-2 mt-4"};function N(o,t,i,n,l,s){return i.isOpen?(r(),c("div",y,[e("div",w,[e("h2",I,m(i.editingIndex!==null?"Editar Livro":"Adicionar Livro"),1),e("div",L,[e("div",null,[M,g(e("input",{id:"bookName","onUpdate:modelValue":t[0]||(t[0]=a=>l.bookName=a),type:"text",placeholder:"Nome do livro",class:"border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-1 w-full"},null,512),[[x,l.bookName,void 0,{trim:!0}]])]),e("div",null,[S,e("input",{id:"bookImage",type:"file",onChange:t[1]||(t[1]=(...a)=>s.handleFileUpload&&s.handleFileUpload(...a)),class:"border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-1 w-full"},null,32)]),e("div",C,[e("button",{onClick:t[2]||(t[2]=(...a)=>s.submit&&s.submit(...a)),class:"bg-[#8DD9BF] text-black px-4 py-2 rounded-md shadow-md hover:bg-green-300 transition-colors","aria-label":"Salvar ou adicionar livro"},m(i.editingIndex!==null?"Salvar Alterações":"Adicionar Livro"),1),e("button",{onClick:t[3]||(t[3]=(...a)=>s.closeModal&&s.closeModal(...a)),class:"bg-red-500 text-white px-4 py-2 rounded-md shadow-md hover:bg-red-600 transition-colors","aria-label":"Cancelar operação"}," Cancelar ")])])])])):f("",!0)}const F=h(B,[["render",N]]),R={components:{BookModal2:F},data(){return{futureReads:[],isModalOpen:!1,currentBook:{},editingIndex:null}},created(){this.loadBooksFromLocalStorage()},methods:{openModal(){this.isModalOpen=!0,this.currentBook={},this.editingIndex=null},closeModal(){this.isModalOpen=!1},addBook(o){this.futureReads.push(o),this.saveBooksToLocalStorage()},editBook(o){this.editingIndex=o,this.currentBook={...this.futureReads[o]},this.isModalOpen=!0},handleBookSubmit(o,t){t!==null?this.futureReads.splice(t,1,o):this.addBook(o),this.saveBooksToLocalStorage(),this.closeModal()},removeBook(o){this.futureReads.splice(o,1),this.saveBooksToLocalStorage()},saveBooksToLocalStorage(){localStorage.setItem("futureReads",JSON.stringify(this.futureReads))},loadBooksFromLocalStorage(){const o=localStorage.getItem("futureReads");o&&(this.futureReads=JSON.parse(o))}}},O={class:"min-h-screen bg-gray-100 flex flex-col items-center py-20 px-4"},D={class:"w-full max-w-md mb-4 flex justify-center"},A={class:"py-4 px-8"},U=e("h2",{class:"text-2xl font-semibold mb-4 font-font2 text-center"},"Próximas Leituras",-1),j={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},T=["src"],E={class:"flex-1 text-left"},V={class:"text-xl font-semibold mb-2"},P={class:"mt-4 flex space-x-2"},J=["onClick"],q=["onClick"];function z(o,t,i,n,l,s){const a=v("BookModal2");return r(),c("div",O,[e("div",D,[e("button",{onClick:t[0]||(t[0]=(...d)=>s.openModal&&s.openModal(...d)),class:"bg-black text-[#8DD9BF] py-3 px-6 text-lg uppercase tracking-wider font-bold rounded-lg shadow-md font-font"}," Adicionar Livro para Ler ")]),e("section",A,[U,e("div",j,[(r(!0),c(k,null,p(l.futureReads,(d,u)=>(r(),c("div",{key:u,class:"bg-white p-6 shadow-md rounded-md flex flex-col"},[d.image?(r(),c("img",{key:0,src:d.image,alt:"Capa do Livro",class:"w-full h-64 object-cover rounded-md mb-4"},null,8,T)):f("",!0),e("div",E,[e("h3",V,m(d.name),1)]),e("div",P,[e("button",{onClick:b=>s.editBook(u),class:"text-blue-500 hover:text-blue-700 transition-colors"}," Editar ",8,J),e("button",{onClick:b=>s.removeBook(u),class:"text-red-500 hover:text-red-700 transition-colors"}," Excluir ",8,q)])]))),128))])]),_(a,{isOpen:l.isModalOpen,book:l.currentBook,editingIndex:l.editingIndex,onSubmit:s.handleBookSubmit,onClose:s.closeModal},null,8,["isOpen","book","editingIndex","onSubmit","onClose"])])}const H=h(R,[["render",z]]);export{H as default};
