import{_ as h,o as d,c,a as e,t as u,w as g,v as x,b as f,d as p,F as k,r as _,e as v}from"./index-AHy7cshP.js";const y={props:{isOpen:{type:Boolean,required:!0},book:{type:Object,default:()=>({})},editingIndex:{type:Number,default:null}},data(){return{bookName:"",bookImage:null}},watch:{isOpen(o){o&&this.resetFields()}},methods:{resetFields(){this.editingIndex===null?(this.bookName="",this.bookImage=null):(this.bookName=this.book.name||"",this.bookImage=this.book.image||null)},async handleFileUpload(o){const t=o.target.files[0];t&&(this.bookImage=await this.readFileAsDataURL(t))},readFileAsDataURL(o){return new Promise((t,a)=>{const n=new FileReader;n.onload=l=>t(l.target.result),n.onerror=a,n.readAsDataURL(o)})},submit(){this.$emit("submit",{name:this.bookName,image:this.bookImage},this.editingIndex),this.closeModal()},closeModal(){this.$emit("close")}}},B={key:0,class:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50"},w={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md"},I={class:"text-2xl font-bold mb-4"},L={class:"flex flex-col space-y-4"},M=e("label",{for:"bookName",class:"block text-sm font-medium text-gray-700"},"Nome do Livro:",-1),S=e("label",{for:"bookImage",class:"block text-sm font-medium text-gray-700"},"Capa do Livro:",-1),C={class:"flex justify-end space-x-2 mt-4"};function N(o,t,a,n,l,s){return a.isOpen?(d(),c("div",B,[e("div",w,[e("h2",I,u(a.editingIndex!==null?"Editar Livro":"Adicionar Livro"),1),e("div",L,[e("div",null,[M,g(e("input",{id:"bookName","onUpdate:modelValue":t[0]||(t[0]=i=>l.bookName=i),type:"text",placeholder:"Nome do livro",class:"border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-1 w-full"},null,512),[[x,l.bookName,void 0,{trim:!0}]])]),e("div",null,[S,e("input",{id:"bookImage",type:"file",onChange:t[1]||(t[1]=(...i)=>s.handleFileUpload&&s.handleFileUpload(...i)),class:"border border-gray-300 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-1 w-full"},null,32)]),e("div",C,[e("button",{onClick:t[2]||(t[2]=(...i)=>s.submit&&s.submit(...i)),class:"bg-blue-500 text-white px-4 py-2 rounded-md shadow-md hover:bg-blue-600 transition-colors","aria-label":"Salvar ou adicionar livro"},u(a.editingIndex!==null?"Salvar Alterações":"Adicionar Livro"),1),e("button",{onClick:t[3]||(t[3]=(...i)=>s.closeModal&&s.closeModal(...i)),class:"bg-red-500 text-white px-4 py-2 rounded-md shadow-md hover:bg-red-600 transition-colors","aria-label":"Cancelar operação"}," Cancelar ")])])])])):f("",!0)}const R=h(y,[["render",N]]),O={components:{BookModal2:R},data(){return{futureReads:[],isModalOpen:!1,currentBook:{},editingIndex:null}},created(){this.loadBooksFromLocalStorage()},methods:{openModal(){this.isModalOpen=!0,this.currentBook={},this.editingIndex=null},closeModal(){this.isModalOpen=!1},addBook(o){this.futureReads.push(o),this.saveBooksToLocalStorage()},editBook(o){this.editingIndex=o,this.currentBook={...this.futureReads[o]},this.isModalOpen=!0},handleBookSubmit(o,t){t!==null?this.futureReads.splice(t,1,o):this.addBook(o),this.saveBooksToLocalStorage(),this.closeModal()},removeBook(o){this.futureReads.splice(o,1),this.saveBooksToLocalStorage()},saveBooksToLocalStorage(){localStorage.setItem("futureReads",JSON.stringify(this.futureReads))},loadBooksFromLocalStorage(){const o=localStorage.getItem("futureReads");o&&(this.futureReads=JSON.parse(o))}}},F={class:"min-h-screen bg-gray-100 flex flex-col items-center py-20 px-4"},A={class:"w-full max-w-md mb-6 flex justify-center"},U={class:"py-15 px-8"},j=e("h2",{class:"text-2xl font-semibold mb-4 font-font2 text-center"},"Próximas Leituras",-1),D={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},T=["src"],E={class:"flex-1 text-left"},V={class:"text-xl font-semibold mb-2"},P={class:"text-gray-600 mb-2 break-words"},J={class:"mt-4 flex space-x-2"},q=["onClick"],z=["onClick"];function G(o,t,a,n,l,s){const i=p("BookModal2");return d(),c("div",F,[e("div",A,[e("button",{onClick:t[0]||(t[0]=(...r)=>s.openModal&&s.openModal(...r)),class:"bg-gradient-to-r from-teal-600 to-blue-500 text-white px-4 py-2 rounded-md shadow-md hover:from-teal-500 hover:to-blue-300 transition-colors font-font2"}," Adicionar Livro para Ler ")]),e("section",U,[j,e("div",D,[(d(!0),c(k,null,_(l.futureReads,(r,m)=>(d(),c("div",{key:m,class:"bg-white p-6 shadow-md rounded-md flex flex-col"},[r.image?(d(),c("img",{key:0,src:r.image,alt:"Capa do Livro",class:"w-full h-64 object-cover rounded-md mb-4"},null,8,T)):f("",!0),e("div",E,[e("h3",V,u(r.name),1),e("p",P,u(r.description),1)]),e("div",J,[e("button",{onClick:b=>s.editBook(m),class:"text-blue-500 hover:text-blue-700 transition-colors"}," Editar ",8,q),e("button",{onClick:b=>s.removeBook(m),class:"text-red-500 hover:text-red-700 transition-colors"}," Excluir ",8,z)])]))),128))])]),v(i,{isOpen:l.isModalOpen,book:l.currentBook,editingIndex:l.editingIndex,onSubmit:s.handleBookSubmit,onClose:s.closeModal},null,8,["isOpen","book","editingIndex","onSubmit","onClose"])])}const K=h(O,[["render",G]]);export{K as default};
